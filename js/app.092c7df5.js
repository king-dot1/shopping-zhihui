(function(){"use strict";var t={731:function(t,e,s){s.d(e,{A:function(){return d}});var a=s(6848),n=s(3518),i=s(2272),r={namespaced:!0,state(){return{userinfo:(0,i.Vp)()}},mutations:{setUserInfo(t,e){t.userinfo=e,(0,i.x1)(e)}},actions:{logout(t){t.commit("setUserInfo",{}),t.commit("cart/setCartTotalMutations",0,{root:!0})}},getters:{}},o=(s(8111),s(1148),s(2489),s(7588),s(1701),s(8237),s(9652)),c={namespaced:!0,state(){return{cartList:[],cartTotal:(0,i.Tj)()}},mutations:{setCartData(t,e){t.cartList=e},setChecked(t,e){const s=t.cartList.filter((t=>t.id===e));s[0].isCheck=!s[0].isCheck},setCheckedAll(t,e){t.cartList.forEach((t=>{t.isCheck=e}))},setCartNum(t,e){const{goodsId:s,goodsNum:a}=e,n=t.cartList.filter((t=>t.goods_id===s));n[0].goods_num=a},setCartTotalMutations(t,e){(0,i.bH)(e),t.cartTotal=e}},actions:{async setCartTotalActions(t){const{data:{cartTotal:e}}=await(0,o.FJ)();t.commit("setCartTotalMutations",e)},async getCartDataAction(t){const{data:{list:e}}=await(0,o.fd)();e.forEach((t=>{t.isCheck=!0})),t.commit("setCartData",e)},async updateCartNumAction(t,e){const{goodsId:s,goodsNum:a,goodsSkuId:n,oldValue:i}=e;await(0,o.qH)(s,a,n);const r=+t.state.cartTotal+(+a-+i);t.commit("setCartTotalMutations",r),t.commit("setCartNum",e)},async delCartAction(t){const e=t.getters.cartIds.split(",");await(0,o.sv)(e),t.dispatch("getCartDataAction")}},getters:{cartIds(t,e){const s=e.cartCheckedList.map((t=>t.id)).join(",");return s},cartTotal(t){return t.cartList.reduce(((t,e)=>t+e.goods_num),0)},cartCheckedList(t){return t.cartList.filter((t=>t.isCheck))},cartCheckedAll(t){return t.cartList.every((t=>t.isCheck))},cartCheckedTotal(t,e){const s=e.cartCheckedList;return s.reduce(((t,e)=>t+e.goods_num),0)},cartCheckedPrice(t,e){const s=e.cartCheckedList;return s.reduce(((t,e)=>t+e.goods_num*e.goods.goods_price_min),0)}}},u={namespaced:!0,state(){return{list:(0,i.bv)()||{}}},mutations:{setRegionTreeMutation(t,e){t.list=e,(0,i.vD)(e)}},actions:{},getters:{}};a.Ay.use(n.Ay);var d=new n.Ay.Store({getters:{token(t){return t.user.userinfo.token}},modules:{user:r,cart:c,address:u}})},2272:function(t,e,s){s.d(e,{Tj:function(){return v},Vk:function(){return o},Vp:function(){return i},bH:function(){return m},bv:function(){return l},vD:function(){return d},vF:function(){return c},x1:function(){return n}});const a="shopping_info",n=t=>{localStorage.setItem(a,JSON.stringify(t))},i=()=>{const t=localStorage.getItem(a);return t?JSON.parse(t):{token:"",userId:""}},r="shopping_history",o=t=>{localStorage.setItem(r,JSON.stringify(t))},c=()=>{const t=localStorage.getItem(r);return t?JSON.parse(t):[]},u="shopping_tree",d=t=>{localStorage.setItem(u,JSON.stringify(t))},l=()=>{const t=localStorage.getItem(u);return t?JSON.parse(t):{}},p="shopping_cart_total",m=t=>{localStorage.setItem(p,t)},v=()=>localStorage.getItem(p)||0},4180:function(t,e,s){s.d(e,{KU:function(){return o},N4:function(){return c},Tg:function(){return u},Z7:function(){return n},hh:function(){return i},l2:function(){return d},n7:function(){return r},rk:function(){return l}});var a=s(5720);const n=(t,e)=>{const{goodsId:s,goodsNum:n,goodsSkuId:i,remark:r,cartIds:o}=e;return a.A.post("/checkout/submit",{mode:t,goodsId:s,goodsNum:n,goodsSkuId:i,remark:r,cartIds:o,delivery:"10",couponId:0,isUsePoints:0,payType:10})},i=(t,e)=>{const{goodsId:s,goodsNum:n,goodsSkuId:i,cartIds:r}=e;return a.A.get("/checkout/order",{params:{mode:t,goodsId:s,goodsNum:n,goodsSkuId:i,cartIds:r,delivery:"10",shopId:0,couponId:0,isUsePoints:0}})},r=(t,e)=>a.A.get("/order/list",{params:{dataType:t,page:e}}),o=t=>a.A.get("/order/detail",{params:{orderId:t}}),c=t=>a.A.post("/order/cancel",{orderId:t}),u=(t,e)=>a.A.post("/order/pay",{params:{orderId:t,payType:e}}),d=t=>a.A.post("/order/receipt",{orderId:t}),l=()=>a.A.get("/order/todoCounts")},5720:function(t,e,s){s(9704);var a=s(1981),n=s(4373),i=s(731);const r=n.A.create({baseURL:"http://smart-shop.itheima.net/index.php?s=/api",timeout:5e3});r.interceptors.request.use((function(t){return t.headers.platform="H5",t.headers["Access-Token"]=i.A.getters.token,a.A.loading({message:"加载中...",forbidClick:!0,duration:0}),t}),(function(t){return Promise.reject(t)})),r.interceptors.response.use((function(t){const e=t.data;return 200!==e.status?((0,a.A)(e.message),Promise.reject(e.message)):(a.A.clear(),e)}),(function(t){return Promise.reject(t)})),e.A=r},6661:function(t){t.exports="data:image/png;base64,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"},6792:function(t,e,s){s.d(e,{A:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"number-box"},[e("button",{staticClass:"minus",on:{click:t.sub}},[t._v("-")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],staticClass:"inp",attrs:{type:"text"},domProps:{value:t.num},on:{change:t.inNum,input:function(e){e.target.composing||(t.num=e.target.value)}}}),e("button",{staticClass:"add",on:{click:t.add}},[t._v("+")])])},n=[],i={name:"NumberBox",props:{value:{type:Number,default:1}},data(){return{num:this.value}},methods:{sub(){1!==this.value&&(this.num=this.value-1,this.$emit("input",this.value-1,this.value))},add(){this.num=this.value+1,this.$emit("input",this.value+1,this.value)},inNum(t){const e=+t.target.value;isNaN(e)||e<1?this.num=this.value:this.$emit("input",e,this.value)}}},r=i,o=s(1656),c=(0,o.A)(r,a,n,!1,null,"a09691de",null),u=c.exports},7767:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAKlBMVEXp6en////9/f3o6Ojw8PDj4+Pl5eXh4eHs7Oz7+/v09PTy8vL4+Pj29vY+GdZKAAADDElEQVRYw+3Wv0sbYRjA8ZNwp+Li89YhUQO+b6F0PDTx6NBBtHXpcBDPRkvhakiC1CGghqIIyRCdOqQlHdouUoqlm1Co0KUZhK4tFPvn9MnF5n6+P4R2KT6EhJe8n3y5ewOJduXJXZNr8l+Tecd5uFu6CinbS18+LR06pjJxxl4ATuZD2anMaXMKxHkOl/P6LFVxCnJi3YXAvP34zZWR1A6E54aUVI8j5J4mIcZBRExLr8WKRk5cGdmHyFyYEqI3o2SqJiH5NkRHl5B9iE3HFBJjI07StpDoC3Ey7QrJfBviYwiJCwmzLCQ7SeRCSNaTyEtTQFKbSSTtishsIrEFxBi6Jn+FFAWk+iSR1PnEyHWTSObM5pJSG5KnxSWPgDMdk0ce88gMl6zzyE0uWRnsoWFyziUubiWMAiMM8AmdtwT4zL38fJcxRnAXw6EI+0sGBpfoTUJIbxfF6ZnL5aTNP/0DklSht1w+KVFK4xVY1vjkqEkSKtltAdH2IF6Bjisi1vd4BfSGiByukWiFjtvi35dKO1qBI01M8AZEKtmahKQ2wxVK07aEaCuRCj3XZKTSDl8L6FIyPESCFZisSYm2F76Wjisn5TZlgYrekJPWLPErdKKm8kfxGfgVODFVyHATBpXJbU2FpDYGdwzGi2rkzqBC064a2fIrSP5VZTZQsZVIa8i/Y1M1JTJ86p9LZrWhdpSB01c6SqtJ/ApM1RtSYmDErzB4b0uJc0qYXyEsUzUlpDoKNFgh9LZjCkn1KTAWqhD4umvyScrJUULDFTTvsMMhxu4YimiFUfhVLSSTvPsAUMQqhMKbw0ICGckXf3giVsEHZO6vxsiIVewC7kqsUAZksR4lerENjPAquCCLhTAxtrv4Lr+CT6Rlh4hzCpSKKozQrGUGiDUKjIkrjMBEvTEg+FXsfyJWiLfRm96LV+unGPy0B6R83NuI73qAeKq/9h4epjgZ6w/Rt8Db2EeBCq4DFdQztUuy2mWKA0d9oq8RVULTNY+UMaKcyfdIao+oE/rKRqIvsCtMtpT7DVEPKD7Ga13IAAAAAElFTkSuQmCC"},8823:function(t,e,s){t.exports=s.p+"img/main.95d4fe07.png"},9435:function(t,e,s){var a=s(6848),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],r={},o=r,c=s(1656),u=(0,c.A)(o,n,i,!1,null,null,null),d=u.exports,l=s(6178),p=s(731),m=function(){var t=this,e=t._self._c;return e("div",[e("router-view"),e("van-tabbar",{attrs:{"active-color":"#ee0a24","inactive-color":"#000",route:""}},[e("van-tabbar-item",{attrs:{to:"/home",icon:"wap-home-o"}},[t._v("首页")]),e("van-tabbar-item",{attrs:{to:"/category",icon:"apps-o"}},[t._v("分类页")]),e("van-tabbar-item",{attrs:{to:"/cart",icon:"shopping-cart-o"}},[t._v("购物车")]),e("van-tabbar-item",{attrs:{to:"/user",icon:"user-o"}},[t._v("我的")]),t.tatol>0?e("span",{staticClass:"num"},[t._v(t._s(t.tatol>99?"99+":t.tatol))]):t._e()],1)],1)},v=[],h={name:"LayoutIndex",data(){return{}},created(){this.getCartTotal()},methods:{getCartTotal(){this.token&&this.$store.dispatch("cart/setCartTotalActions")}},computed:{token(){return this.$store.getters.token},tatol(){return this.$store.state.cart.cartTotal}}},f=h,g=(0,c.A)(f,m,v,!1,null,"2b02f2a9",null),A=g.exports,y=(s(4114),function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("van-nav-bar",{attrs:{title:"智慧商场",fixed:""}}),e("van-search",{attrs:{readonly:"",background:"#f1f1f2",shape:"round",placeholder:"请输入搜索关键词"},on:{click:function(e){return t.$router.push("/search")}}}),e("van-swipe",{attrs:{"indicator-color":"#fff",autoplay:3e3}},t._l(t.swiperList,(function(t,s){return e("van-swipe-item",{key:s},[e("img",{attrs:{src:t.imgUrl}})])})),1),e("van-grid",{attrs:{"icon-size":"40px","column-num":5}},t._l(t.categoryList,(function(s){return e("van-grid-item",{key:s.imgUrl,attrs:{icon:s.imgUrl,text:s.text},on:{click:function(e){return t.$router.push("/category")}}})})),1),t._m(0),e("div",{staticClass:"geuss-list"},[e("p",{staticClass:"like"},[t._v("—— 猜你喜欢 ——")]),e("div",{staticClass:"goods-list"},t._l(t.floorList,(function(t,s){return e("GoodsList",{key:s,attrs:{item:t}})})),1)])],1)}),C=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("img",{attrs:{src:s(8823),alt:""}})])}],k=s(9865),b=s(5720);const _=()=>(0,b.A)("/page/detail");var I={name:"HomePage",components:{GoodsList:k.A},data(){return{swiperList:[],categoryList:[],floorList:[]}},created(){this.getHomeData()},methods:{async getHomeData(){const{data:{pageData:{items:t}}}=await _();this.swiperList=t[1].data,this.categoryList=t[3].data,this.floorList=t[6].data}}},T=I,S=(0,c.A)(T,y,C,!1,null,"65197ace",null),x=S.exports,M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"category"},[e("van-nav-bar",{attrs:{fixed:"",title:"全部分类"}}),e("van-search",{attrs:{shape:"round",background:"#f1f1f2",placeholder:"请输入搜索关键词"},on:{click:function(e){return t.$router.push("/search")}}}),e("div",{staticClass:"list-box"},[e("div",{staticClass:"left"},[e("ul",t._l(t.list,(function(s,a){return e("li",{key:s.category_id},[e("a",{class:{active:a===t.activeIndex},on:{click:function(e){t.activeIndex=a}}},[t._v(t._s(s.name))])])})),0)]),e("div",{staticClass:"right"},t._l(t.list[t.activeIndex]?.children,(function(s,a){return e("div",{key:a,staticClass:"cate-goods",on:{click:function(e){return t.$router.push(`/searchList?categoryId=${s.category_id}`)}}},[e("img",{attrs:{src:s?.image?.external_url,alt:s.name}}),e("p",[t._v(t._s(s.name))])])})),0)])],1)},L=[];const w=()=>b.A.get("/category/list");var Z={name:"CategoryPage",data(){return{list:[],activeIndex:0,dataLoaded:!1}},created(){this.getCategoryList()},methods:{async getCategoryList(){const{data:{list:t}}=await w();this.list=t}}},E=Z,N=(0,c.A)(E,M,L,!1,null,"80e8b11c",null),z=N.exports,J=function(){var t=this,e=t._self._c;return t.cartTotal>0?e("div",{staticClass:"cart"},[e("van-nav-bar",{attrs:{fixed:"",title:"购物车"}}),e("div",{staticClass:"cart-title"},[e("span",{staticClass:"all"},[t._v("共"),e("i",[t._v(t._s(t.cartTotal))]),t._v("件商品")]),e("div",{on:{click:t.edit}},[t.isEdit?e("span",{staticClass:"edit"},[e("van-icon",{attrs:{name:"edit"}}),t._v(" 编辑")],1):e("span",{staticClass:"finish"},[t._v("完成")])])]),e("div",{staticClass:"cart-list"},t._l(t.getData,(function(s,a){return e("div",{key:a,staticClass:"cart-item"},[e("div",{staticClass:"checkbox"},[e("van-checkbox",{attrs:{value:s.isCheck},on:{click:function(e){return t.setChecked(s.id)}}})],1),e("div",{staticClass:"show"},[e("img",{attrs:{src:s.goods.goods_image,alt:""}})]),e("div",{staticClass:"info"},[e("span",{staticClass:"tit text-ellipsis-2"},[t._v(" "+t._s(s.goods.goods_name)+" ")]),e("span",{staticClass:"bottom"},[e("div",{staticClass:"price"},[t._v("￥"),e("span",[t._v(t._s(s.goods.goods_price_min))])]),e("NumberBox",{attrs:{value:s.goods_num},on:{input:(e,a)=>t.changeNum(s.goods_id,e,s.goods_sku_id,a)}})],1)])])})),0),e("div",{staticClass:"floor"},[e("div",{staticClass:"all-check"},[e("van-checkbox",{attrs:{value:t.cartCheckedAll},on:{click:t.checkAll}},[t._v("全选")])],1),e("div",{staticClass:"all-total"},[e("div",{staticClass:"price"},[e("span",[t._v("合计：")]),t._v("￥ "),e("i",{staticClass:"total-price"},[t._v(t._s(t.cartCheckedPrice.toFixed(2)))])]),t.isEdit?e("div",{staticClass:"goPay",class:{disabled:0===t.cartCheckedTotal},on:{click:t.payCart}},[t._v(" 结算("+t._s(t.cartCheckedTotal)+") ")]):e("div",{staticClass:"del",class:{disabled:0===t.cartCheckedTotal},on:{click:t.del}},[t._v(" 删除("+t._s(t.cartCheckedTotal)+") ")])])])],1):e("div",{staticClass:"cart-empty"},[e("img",{staticClass:"img",attrs:{src:s(6661),alt:""}}),e("div",{staticClass:"txt"},[t._v("您的购物车是空的, 快去逛逛吧")]),e("div",{staticClass:"btn",on:{click:function(e){return t.$router.push("/")}}},[t._v("去逛逛")])])},P=[],j=s(3518),K=s(6792),O={name:"CartPage",components:{NumberBox:K.A},data(){return{isEdit:!0}},created(){this.token&&this.getCartList()},methods:{getCartList(){this.$store.dispatch("cart/getCartDataAction")},checkAll(){this.setCheckedAll(!this.cartCheckedAll)},changeNum(t,e,s,a){let n=null;n=setTimeout((()=>{this.$store.dispatch("cart/updateCartNumAction",{goodsId:t,goodsNum:e,goodsSkuId:s,oldValue:a}),clearTimeout(n)}),300)},edit(){this.isEdit=!this.isEdit},async del(){0!==this.cartCheckedTotal&&(this.$store.dispatch("cart/delCartAction"),this.isEdit=!0)},payCart(){this.$router.push({path:"/pay",query:{mode:"cart",cartIds:this.cartIds}})},...(0,j.PY)("cart",["setChecked","setCheckedAll"])},computed:{getData(){return this.$store.state.cart.cartList},token(){return this.$store.getters.token},...(0,j.L8)("cart",["cartTotal","cartCheckedTotal","cartCheckedPrice","cartCheckedAll","cartIds"])},watch:{isEdit(){this.setCheckedAll(this.isEdit)}}},G=O,F=(0,c.A)(G,J,P,!1,null,"7beda6b1",null),B=F.exports,U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user"},[e("div",{staticClass:"my-head"},[e("div",{staticClass:"avatar"},[t.userInfo.avatar?e("img",{attrs:{src:t.userInfo.avatar,alt:""}}):e("img",{attrs:{src:s(7767),alt:""}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"phone"},[t._v(t._s(t.userInfo.mobile||"未登录"))]),t.userInfo.user_id?e("div",{staticClass:"vip"},[e("van-icon",{attrs:{name:"diamond-o"}}),t._v(" 普通会员 ")],1):e("div",{on:{click:function(e){return t.$router.push("/login")}}},[t._v("点击登录账号")])])]),e("div",{staticClass:"my-asset"},[e("div",{staticClass:"left"},[e("div",[e("span",{staticClass:"red-17"},[t._v(t._s(t.assets.balance||0))]),e("span",{staticClass:"top-7"},[t._v("账户余额")])]),e("div",[e("span",{staticClass:"red-17"},[t._v(t._s(t.assets.points||0))]),e("span",{staticClass:"top-7"},[t._v("积分")])]),e("div",[e("span",{staticClass:"red-17"},[t._v(t._s(t.assets.coupon||0))]),e("span",{staticClass:"top-7"},[t._v("优惠卷")])])]),e("div",{staticClass:"right"},[e("van-icon",{attrs:{name:"pending-payment"}}),e("span",{staticClass:"top-7"},[t._v("我的钱包")])],1)]),e("div",{staticClass:"my-order-nav"},[e("div",{on:{click:function(e){return t.$router.push("/myorder?dataType=all")}}},[e("van-icon",{staticClass:"item-icon",attrs:{name:"description-o"}}),e("span",[t._v("全部订单")])],1),e("div",{on:{click:function(e){return t.$router.push("/myorder?dataType=payment")}}},[e("van-icon",{staticClass:"item-icon",attrs:{name:"clock-o"}}),e("span",[t._v("待支付")]),t.counts.payment>0?e("span",{staticClass:"item-badge"},[t._v(t._s(t.counts.payment))]):t._e()],1),e("div",{on:{click:function(e){return t.$router.push("/myorder?dataType=delivery")}}},[e("van-icon",{staticClass:"item-icon",attrs:{name:"logistics"}}),e("span",[t._v("待发货")]),t.counts.delivery>0?e("span",{staticClass:"item-badge"},[t._v(t._s(t.counts.delivery))]):t._e()],1),e("div",{on:{click:function(e){return t.$router.push("/myorder?dataType=received")}}},[e("van-icon",{staticClass:"item-icon",attrs:{name:"sign"}}),e("span",[t._v("待收货")]),t.counts.received>0?e("span",{staticClass:"item-badge"},[t._v(t._s(t.counts.received))]):t._e()],1)]),e("div",{staticClass:"my-service"},[e("div",{staticClass:"title"},[t._v(" 我的服务 ")]),e("div",{staticClass:"content"},[e("div",{on:{click:function(e){return t.$router.push("/address")}}},[e("van-icon",{staticClass:"item-icon",attrs:{name:"location-o"}}),e("span",[t._v("收货地址")])],1),e("div",[e("van-icon",{staticClass:"item-icon",attrs:{name:"point-gift-o"}}),e("span",[t._v("领卷中心")])],1),e("div",[e("van-icon",{staticClass:"item-icon",attrs:{name:"balance-list-o"}}),e("span",[t._v("优惠卷")])],1),e("div",[e("van-icon",{staticClass:"item-icon",attrs:{name:"question-o"}}),e("span",[t._v("我的帮助")])],1),e("div",[e("van-icon",{staticClass:"item-icon",attrs:{name:"miniprogram-o"}}),e("span",[t._v("我的积分")])],1),e("div",[e("van-icon",{staticClass:"item-icon",attrs:{name:"after-sale"}}),e("span",[t._v("退换/售后")])],1)])]),this.loginStatus?e("div",{staticClass:"login-bnt",on:{click:t.logout}},[t._v("退出登录")]):t._e()])},D=[],W=s(4180);const V=()=>b.A.get("/user/info"),R=()=>b.A.get("/user/assets");var q={name:"UserPage",data(){return{userInfo:{},counts:{},assets:{}}},created(){this.loginStatus&&this.getUserInfo()},computed:{loginStatus(){return this.$store.getters.token}},methods:{async getUserInfo(){const{data:{userInfo:t}}=await V();this.userInfo=t;const{data:{counts:e}}=await(0,W.rk)();this.counts=e;const{data:{assets:s}}=await R();this.assets=s},logout(){this.$dialog.confirm({title:"温馨提示",message:"是否退出登录？"}).then((()=>{this.$store.dispatch("user/logout")})).catch((()=>{}))}}},Q=q,H=(0,c.A)(Q,U,D,!1,null,"03a9e7bf",null),Y=H.exports;const X=()=>s.e(108).then(s.bind(s,9108)),$=()=>s.e(796).then(s.bind(s,8796)),tt=()=>s.e(984).then(s.bind(s,6984)),et=()=>s.e(728).then(s.bind(s,1728)),st=()=>s.e(298).then(s.bind(s,5298)),at=()=>s.e(422).then(s.bind(s,422)),nt=()=>s.e(433).then(s.bind(s,2433)),it=()=>s.e(561).then(s.bind(s,1561)),rt=()=>s.e(38).then(s.bind(s,2038)),ot=()=>s.e(124).then(s.bind(s,5124));a.Ay.use(l.Ay);const ct=new l.Ay({routes:[{path:"/",component:A,redirect:"/home",children:[{path:"/home",component:x},{path:"/category",component:z},{path:"/cart",component:B},{path:"/user",component:Y}]},{path:"/login",component:X},{path:"/myorder",component:$},{path:"/orderDetail",component:tt},{path:"/pay",component:et},{path:"/detail/:id",component:st},{path:"/search",component:at},{path:"/searchList",component:nt},{path:"/address",component:it},{path:"/address/create",component:rt},{path:"/address/update",component:ot}]}),ut=["/pay","/myorder","/address","/address/create","/address/update"];ct.beforeEach(((t,e,s)=>{const a=p.A.getters.token;ut.includes(t.path)&&!a&&s("/login"),s()}));var dt=ct,lt=(s(3425),s(6141)),pt=(s(7231),s(9363)),mt=(s(4510),s(1864)),vt=(s(9704),s(1981)),ht=(s(1215),s(5283)),ft=(s(7057),s(6749)),gt=(s(79),s(7235)),At=(s(9125),s(2665)),yt=(s(9851),s(1431)),Ct=(s(3212),s(6874)),kt=(s(9809),s(4365)),bt=(s(9867),s(9028)),_t=(s(2636),s(6579)),It=(s(4368),s(6885)),Tt=(s(6117),s(7555)),St=(s(6291),s(4694)),xt=(s(6879),s(4629)),Mt=(s(2460),s(2281)),Lt=(s(3093),s(5187)),wt=(s(2512),s(6852)),Zt=(s(440),s(162));a.Ay.use(Zt.A),a.Ay.use(wt.A),a.Ay.use(Lt.A),a.Ay.use(Mt.A),a.Ay.use(xt.A),a.Ay.use(St.A),a.Ay.use(Tt.A),a.Ay.use(It.A),a.Ay.use(_t.A),a.Ay.use(bt.A),a.Ay.use(kt.A),a.Ay.use(Ct.A),a.Ay.use(yt.A),a.Ay.use(At.A),a.Ay.use(gt.A),a.Ay.use(ft.A),a.Ay.use(ht.A),a.Ay.use(vt.A),a.Ay.use(mt.A),a.Ay.use(pt.A),a.Ay.use(lt.A),a.Ay.config.productionTip=!1,new a.Ay({router:dt,store:p.A,render:t=>t(d)}).$mount("#app")},9652:function(t,e,s){s.d(e,{FJ:function(){return c},U4:function(){return n},fd:function(){return i},qH:function(){return r},sv:function(){return o}});var a=s(5720);const n=(t,e,s)=>a.A.post("/cart/add",{goodsId:t,goodsNum:e,goodsSkuId:s}),i=()=>a.A.get("/cart/list"),r=(t,e,s)=>a.A.post("/cart/update",{goodsId:t,goodsNum:e,goodsSkuId:s}),o=t=>a.A.post("/cart/clear",{cartIds:t}),c=()=>a.A.get("/cart/total")},9865:function(t,e,s){s.d(e,{A:function(){return u}});s(4114);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"goods-item",on:{click:function(e){return t.$router.push(`/detail/${t.item.goods_id}`)}}},[e("div",{staticClass:"goods-left"},[e("img",{attrs:{src:t.item.goods_image,alt:""}})]),e("div",{staticClass:"goods-right"},[e("p",{staticClass:"text text-ellipsis-2"},[t._v(" "+t._s(t.item.goods_name)+" ")]),e("p",{staticClass:"count"},[t._v("已售"+t._s(t.item.goods_sales)+"件")]),e("p",{staticClass:"price"},[e("span",{staticClass:"new"},[t._v("￥"+t._s(t.item.goods_price_max))]),e("span",{staticClass:"old"},[t._v("￥"+t._s(t.item.goods_price_min))])])])])},n=[],i={name:"GoodsList",props:{item:{type:Object,default:()=>{}}}},r=i,o=s(1656),c=(0,o.A)(r,a,n,!1,null,"6bf56305",null),u=c.exports}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,i){if(!a){var r=1/0;for(d=0;d<t.length;d++){a=t[d][0],n=t[d][1],i=t[d][2];for(var o=!0,c=0;c<a.length;c++)(!1&i||r>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[c])}))?a.splice(c--,1):(o=!1,i<r&&(r=i));if(o){t.splice(d--,1);var u=n();void 0!==u&&(e=u)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,n,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,a){return s.f[a](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/"+t+"."+{38:"7c44a999",108:"22996755",124:"d206f35a",298:"511f7df1",422:"399d566c",433:"5f2be8dc",561:"ee8f2429",728:"88b6026d",796:"43304371",984:"ed7eca0a"}[t]+".js"}}(),function(){s.miniCssF=function(t){return"css/"+t+"."+{38:"d5ff4da6",108:"e42b15a1",124:"42e137ab",298:"d285040a",422:"0e760af1",433:"e88d9db3",561:"162652a3",728:"777ca9e0",796:"54474d11",984:"0fd52bc9"}[t]+".css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="shopping:";s.l=function(a,n,i,r){if(t[a])t[a].push(n);else{var o,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==a||l.getAttribute("data-webpack")==e+i){o=l;break}}o||(c=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",e+i),o.src=a),t[a]=[n];var p=function(e,s){o.onerror=o.onload=null,clearTimeout(m);var n=t[a];if(delete t[a],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((function(t){return t(s)})),e)return e(s)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),c&&document.head.appendChild(o)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p=""}(),function(){if("undefined"!==typeof document){var t=function(t,e,a,n,i){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",s.nc&&(r.nonce=s.nc);var o=function(s){if(r.onerror=r.onload=null,"load"===s.type)n();else{var a=s&&s.type,o=s&&s.target&&s.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+a+": "+o+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=o,r.parentNode&&r.parentNode.removeChild(r),i(c)}};return r.onerror=r.onload=o,r.href=e,a?a.parentNode.insertBefore(r,a.nextSibling):document.head.appendChild(r),r},e=function(t,e){for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var n=s[a],i=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(i===t||i===e))return n}var r=document.getElementsByTagName("style");for(a=0;a<r.length;a++){n=r[a],i=n.getAttribute("data-href");if(i===t||i===e)return n}},a=function(a){return new Promise((function(n,i){var r=s.miniCssF(a),o=s.p+r;if(e(r,o))return n();t(a,o,null,n,i)}))},n={524:0};s.f.miniCss=function(t,e){var s={38:1,108:1,124:1,298:1,422:1,433:1,561:1,728:1,796:1,984:1};n[t]?e.push(n[t]):0!==n[t]&&s[t]&&e.push(n[t]=a(t).then((function(){n[t]=0}),(function(e){throw delete n[t],e})))}}}(),function(){var t={524:0};s.f.j=function(e,a){var n=s.o(t,e)?t[e]:void 0;if(0!==n)if(n)a.push(n[2]);else{var i=new Promise((function(s,a){n=t[e]=[s,a]}));a.push(n[2]=i);var r=s.p+s.u(e),o=new Error,c=function(a){if(s.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var i=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;o.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",o.name="ChunkLoadError",o.type=i,o.request=r,n[1](o)}};s.l(r,c,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,i,r=a[0],o=a[1],c=a[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(c)var d=c(s)}for(e&&e(a);u<r.length;u++)i=r[u],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(d)},a=self["webpackChunkshopping"]=self["webpackChunkshopping"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(9435)}));a=s.O(a)})();
//# sourceMappingURL=app.092c7df5.js.map