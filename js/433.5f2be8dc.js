"use strict";(self["webpackChunkshopping"]=self["webpackChunkshopping"]||[]).push([[433],{2433:function(t,s,e){e.r(s),e.d(s,{default:function(){return l}});var r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"search-list"},[s("van-nav-bar",{attrs:{title:"商品列表","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("van-search",{attrs:{shape:"round",readonly:"","show-action":"",value:t.querySearch||"搜索商品"},scopedSlots:t._u([{key:"action",fn:function(){return[s("van-icon",{attrs:{size:"25px",name:"list-switch"}})]},proxy:!0}])}),s("div",{staticClass:"sort-btns",on:{click:t.cutShow}},[s("div",{staticClass:"sort-item sort-item--active",attrs:{"data-cut":"all"}},[t._v("综合")]),s("div",{staticClass:"sort-item",attrs:{"data-cut":"sales"}},[t._v("销量")]),s("div",{staticClass:"sort-item",attrs:{"data-cut":"price"}},[t._v("价格")])]),s("div",{staticClass:"goods-list"},t._l(t.list,(function(t,e){return s("GoodsList",{key:e,attrs:{item:t}})})),1)],1)},o=[],a=(e(8111),e(7588),e(9865)),i=e(5485),c={name:"SearchList",components:{GoodsList:a.A},data(){return{list:[],sortType:"all",sortPrice:"0",page:"1"}},created(){this.getGoods()},methods:{async getGoods(){const{data:{list:{data:t}}}=await(0,i.F5)({sortType:this.sortType,sortPrice:this.sortPrice,page:this.page,goodsName:this.querySearch,categoryId:this.queryCategoryId});this.list=t},cutShow(t){this.sortType=t.target.dataset.cut||"all";const s=document.querySelectorAll(".sort-item");s.forEach((t=>t.classList.remove("sort-item--active"))),t.target.classList.add("sort-item--active"),this.getGoods()}},computed:{querySearch(){return this.$route.query.search},queryCategoryId(){return this.$route.query.categoryId}}},n=c,u=e(1656),d=(0,u.A)(n,r,o,!1,null,"7dbd7138",null),l=d.exports},5485:function(t,s,e){e.d(s,{Ck:function(){return i},F5:function(){return o},L:function(){return c},_P:function(){return a}});var r=e(5720);const o=t=>{const{sortType:s,sortPrice:e,categoryId:o,goodsName:a,page:i}=t;return r.A.get("/goods/list",{params:{sortType:s,sortPrice:e,categoryId:o,goodsName:a,page:i}})},a=t=>r.A.get("/goods/detail",{params:{goodsId:t}}),i=(t,s)=>r.A.get("/comment/listRows",{params:{goodsId:t,limit:s}}),c=t=>r.A.get("/comment/total",{params:{goodsId:t}})}}]);
//# sourceMappingURL=433.5f2be8dc.js.map