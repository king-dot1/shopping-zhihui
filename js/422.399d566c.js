"use strict";(self["webpackChunkshopping"]=self["webpackChunkshopping"]||[]).push([[422],{422:function(t,s,i){i.r(s),i.d(s,{default:function(){return l}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"search"},[s("van-nav-bar",{attrs:{title:"商品搜索","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},scopedSlots:t._u([{key:"action",fn:function(){return[s("div",{on:{click:t.onSearch}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.value,callback:function(s){t.value=s},expression:"value"}}),t.history.length>0?s("div",{staticClass:"search-history"},[s("div",{staticClass:"title"},[s("span",[t._v("最近搜索")]),s("van-icon",{attrs:{name:"delete-o"},on:{click:t.clearHistory}})],1),s("div",{staticClass:"list"},t._l(t.history,(function(i){return s("div",{key:i,staticClass:"list-item",on:{click:function(s){return t.addSearch(i)}}},[t._v(t._s(i))])})),0)]):t._e()],1)},r=[],a=(i(4114),i(2272)),n={name:"SearchIndex",data(){return{value:"",history:(0,a.vF)()||[]}},methods:{onSearch(){const t=this.value.trim();if(t){const s=this.history.indexOf(t);-1!==s&&this.history.splice(s,1),this.history.unshift(t),(0,a.Vk)(this.history)}this.$router.push(`/searchList/?search=${t}`)},addSearch(t){const s=this.history.indexOf(t);this.history.splice(s,1),this.history.unshift(t),(0,a.Vk)(this.history),this.$router.push(`/searchList/?search=${t}`)},clearHistory(){this.history=[],(0,a.Vk)(this.history),this.$toast.success("清空历史成功")}}},c=n,h=i(1656),o=(0,h.A)(c,e,r,!1,null,"92df077c",null),l=o.exports}}]);
//# sourceMappingURL=422.399d566c.js.map