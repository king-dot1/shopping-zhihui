{"version":3,"file":"js/796.43304371.js","mappings":"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","sources":["webpack://shopping/./src/views/myorder/index.vue","webpack://shopping/./src/components/OrderListItem.vue","webpack://shopping/src/components/OrderListItem.vue","webpack://shopping/./src/components/OrderListItem.vue?0e41","webpack://shopping/./src/components/OrderListItem.vue?9f7f","webpack://shopping/src/views/myorder/index.vue","webpack://shopping/./src/views/myorder/index.vue?c8f4","webpack://shopping/./src/views/myorder/index.vue?a278","webpack://shopping/./src/mixins/orderConfirm.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"order\"},[_c('van-nav-bar',{attrs:{\"title\":\"我的订单\",\"fixed\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_c('van-tabs',{on:{\"click\":_vm.onClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('van-tab',{attrs:{\"name\":\"all\",\"title\":\"全部\"}}),_c('van-tab',{attrs:{\"name\":\"payment\",\"title\":\"待支付\"}}),_c('van-tab',{attrs:{\"name\":\"delivery\",\"title\":\"待发货\"}}),_c('van-tab',{attrs:{\"name\":\"received\",\"title\":\"待收货\"}}),_c('van-tab',{attrs:{\"name\":\"comment\",\"title\":\"待评价\"}})],1),(_vm.orderList.length>0)?_c('div',{staticClass:\"content\"},[_vm._l((_vm.orderList),function(item,index){return _c('OrderListItem',{key:index,attrs:{\"item\":item},on:{\"click\":function($event){return _vm.$router.push(`/orderDetail?orderId=${item.order_id}`)}}})}),_vm._m(0)],2):_c('div',{staticClass:\"empty-txt\"},[_c('img',{attrs:{\"src\":require(\"../../assets/empty.png\"),\"alt\":\"\"}}),_c('div',{staticClass:\"txt\"},[_vm._v(\"亲，暂无订单记录\")])])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"hint\"},[_c('span',[_vm._v(\"亲，没有更多了\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"order-item\"},[_c('div',{staticClass:\"item-top\"},[_c('div',{staticClass:\"time\"},[_vm._v(\" \"+_vm._s(_vm.item.create_time))]),_c('div',{staticClass:\"text\"},[_c('span',[_vm._v(_vm._s(_vm.item.state_text))])])]),_c('div',{staticClass:\"list\",on:{\"click\":function($event){return _vm.$emit('click')}}},_vm._l((_vm.item.goods),function(good,index){return _c('div',{key:index,staticClass:\"list-item\"},[_c('div',{staticClass:\"goods-image\"},[_c('img',{attrs:{\"src\":good.goods_image,\"alt\":\"\"}})]),_c('div',{staticClass:\"goods-content\"},[_c('span',{staticClass:\"text-ellipsis-2\"},[_vm._v(_vm._s(good.goods_name))])]),_c('div',{staticClass:\"goods-right\"},[_c('span',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(good.goods_price))]),_c('span',{staticClass:\"count\"},[_vm._v(\"x \"+_vm._s(good.total_num))])])])}),0),_c('div',{staticClass:\"total\"},[_c('span',[_vm._v(\"共\"+_vm._s(_vm.item.total_num)+\"件商品，总金额 ￥\"),_c('span',{staticClass:\"count-money\"},[_vm._v(_vm._s(_vm.item.total_price))])])]),_c('div',{staticClass:\"actives\"},[_c('div',{on:{\"click\":_vm.onClick}},[(_vm.item.order_status === 10)?_c('div',[(_vm.item.pay_status === 10)?_c('span',[_vm._v(\"立刻付款\")]):(_vm.item.delivery_status === 10)?_c('span',[_vm._v(\"申请取消\")]):(_vm.item.delivery_status === 20 || _vm.item.delivery_status === 30)?_c('span',[_vm._v(\"确认收货\")]):_vm._e()]):_vm._e(),(_vm.item.order_status === 30)?_c('div',[_c('span',[_vm._v(\"评价\")])]):_vm._e()]),_c('div',{staticClass:\"cancel\"},[(_vm.item.state_text === '待取消')?_c('p',[_vm._v(\"取消申请中\")]):_vm._e(),(_vm.item.state_text ==='待支付')?_c('p',[_vm._v(\"待支付中\")]):_vm._e(),(_vm.item.state_text === '待收货')?_c('p',[_vm._v(\"待收货中\")]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"order-item\">\r\n    <!-- 时间 -->\r\n    <div class=\"item-top\">\r\n      <div class=\"time\"> {{ item.create_time }}</div>\r\n      <div class=\"text\">\r\n        <span>{{ item.state_text }}</span>\r\n      </div>\r\n    </div>\r\n    <!-- 商品列 -->\r\n    <div @click=\"$emit('click')\" class=\"list\">\r\n      <div class=\"list-item\" v-for=\"(good, index) in item.goods\" :key=\"index\">\r\n        <div class=\"goods-image\">\r\n          <img :src=\"good.goods_image\" alt=\"\">\r\n        </div>\r\n        <div class=\"goods-content\">\r\n          <span class=\"text-ellipsis-2\">{{ good.goods_name }}</span>\r\n        </div>\r\n        <div class=\"goods-right\">\r\n          <span class=\"price\">￥{{ good.goods_price }}</span>\r\n          <span class=\"count\">x {{ good.total_num }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 商品数量 -->\r\n    <div class=\"total\">\r\n      <span>共{{ item.total_num }}件商品，总金额 ￥<span class=\"count-money\">{{ item.total_price }}</span></span>\r\n    </div>\r\n\r\n    <!-- 按钮 -->\r\n    <div class=\"actives\">\r\n      <div @click=\"onClick\">\r\n        <div v-if=\"item.order_status === 10\">\r\n          <span v-if=\"item.pay_status === 10\">立刻付款</span>\r\n          <span v-else-if=\"item.delivery_status === 10\">申请取消</span>\r\n          <span v-else-if=\"item.delivery_status === 20 || item.delivery_status === 30\">确认收货</span>\r\n        </div>\r\n        <div v-if=\"item.order_status === 30\">\r\n          <span>评价</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"cancel\">\r\n        <p v-if=\"item.state_text === '待取消'\">取消申请中</p>\r\n        <p v-if=\"item.state_text ==='待支付'\">待支付中</p>\r\n        <p v-if=\"item.state_text === '待收货'\">待收货中</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport orderConfirm from '@/mixins/orderConfirm'\r\nexport default {\r\n  name: 'OrderListItem',\r\n  mixins: [orderConfirm],\r\n  props: {\r\n    item: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  methods: {\r\n    onClick () {\r\n      this.orderConfirm(this.item)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.order-item {\r\n  margin: 10px auto;\r\n  padding: 15px;\r\n  background-color: #fff;\r\n  width: 94%;\r\n  font-size: 13px;\r\n  box-shadow: 0 1px 2px 0px rgba(0, 0, 0, 0.05);\r\n  border-radius: 8px;\r\n  color: #333;\r\n  .item-top {\r\n    color: #777;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 20px;\r\n    .text {\r\n      color: #fa2209;\r\n    }\r\n  }\r\n  .list {\r\n  // 商品列\r\n  .list-item {\r\n    display: flex;\r\n    margin-bottom: 20px;\r\n    .goods-image {\r\n      width: 90px;\r\n      height: 90px;\r\n      img {\r\n        display: block;\r\n        width: 100%;\r\n        height: 100%;\r\n        border-radius: 4px;\r\n      }\r\n    }\r\n\r\n    .goods-content {\r\n      flex: 2;\r\n      padding: 8px 0 0 8px;\r\n    }\r\n\r\n    .goods-right {\r\n      flex: 1;\r\n      padding-top: 8px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      text-align: right;\r\n      color: #999;\r\n\r\n      .price {\r\n        margin-bottom: 8px;\r\n      }\r\n    }\r\n  }\r\n  }\r\n\r\n  .total {\r\n    margin-bottom: 15px;\r\n    text-align: right;\r\n    .count-money {\r\n      font-size: 14px;\r\n    }\r\n  }\r\n\r\n  .actives {\r\n    text-align: right;\r\n    span {\r\n      display: inline-block;\r\n      padding: 3px 10px;\r\n      border: 0.5px solid #a8a8a8;\r\n      color: #383838;\r\n      border-radius: 5px;\r\n      font-size: 14px;\r\n    }\r\n    .cancel {\r\n      color: #888;\r\n      font-size: 14px;\r\n      text-align: left;\r\n    }\r\n  }\r\n\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderListItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderListItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OrderListItem.vue?vue&type=template&id=3787e30f&scoped=true\"\nimport script from \"./OrderListItem.vue?vue&type=script&lang=js\"\nexport * from \"./OrderListItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./OrderListItem.vue?vue&type=style&index=0&id=3787e30f&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3787e30f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"order\">\r\n    <van-nav-bar title=\"我的订单\" fixed left-arrow @click-left=\"$router.go(-1)\" />\r\n    <!-- 切换导航 -->\r\n    <van-tabs v-model=\"activeName\" @click=\"onClick\">\r\n      <van-tab name=\"all\" title=\"全部\"></van-tab>\r\n      <van-tab name=\"payment\" title=\"待支付\"></van-tab>\r\n      <van-tab name=\"delivery\" title=\"待发货\"></van-tab>\r\n      <van-tab name=\"received\" title=\"待收货\"></van-tab>\r\n      <van-tab name=\"comment\" title=\"待评价\"></van-tab>\r\n    </van-tabs>\r\n\r\n    <div v-if=\"orderList.length>0\" class=\"content\">\r\n      <!-- 订单商品子组件 -->\r\n      <OrderListItem v-for=\"(item, index) in orderList\" :item=\"item\" :key=\"index\" @click=\"$router.push(`/orderDetail?orderId=${item.order_id}`)\"/>\r\n\r\n      <!-- 提示 -->\r\n      <div class=\"hint\">\r\n        <span>亲，没有更多了</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 空 显示 -->\r\n    <div v-else class=\"empty-txt\">\r\n      <img src=\"../../assets/empty.png\" alt=\"\">\r\n      <div class=\"txt\">亲，暂无订单记录</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getOrderList, todoCountsOrder } from '@/api/order'\r\nimport OrderListItem from '@/components/OrderListItem.vue'\r\nexport default {\r\n  name: 'MyOrderIndex',\r\n  components: {\r\n    OrderListItem\r\n  },\r\n  data () {\r\n    return {\r\n      page: 1, // 页码默认 1\r\n      orderList: [], // 订单列表数据\r\n      activeName: this.$route.query.dataType || 'all'\r\n    }\r\n  },\r\n  created () {\r\n    // 页面加载时，获取订单数据\r\n    this.onClick()\r\n    todoCountsOrder()\r\n  },\r\n  methods: {\r\n    // tab 切换\r\n    async onClick () {\r\n      const { data: { list: { data } } } = await getOrderList(this.activeName, this.page)\r\n\r\n      // 数据处理 -累加商品的数量\r\n      data.forEach(item => {\r\n        item.total_num = 0 // 商品数量\r\n        item.goods.forEach(goods => {\r\n          item.total_num += goods.total_num\r\n        })\r\n      })\r\n      this.orderList = data\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.order {\r\n  background-color: #fafafa;\r\n  padding-top: 46px;\r\n  min-height: 100vh;\r\n  .content {\r\n    .hint {\r\n      text-align: center;\r\n      padding: 15px 0;\r\n      font-size: 14px;\r\n      color: grey;\r\n    }\r\n  }\r\n  // 空样式\r\n  .empty-txt {\r\n    padding: 50px 25px;\r\n    text-align: center;\r\n    img {\r\n      width: 140px;\r\n    }\r\n    .txt {\r\n      font-size: 14px;\r\n      color: grey;\r\n      margin-top: 20px;\r\n    }\r\n  }\r\n}\r\n\r\n.van-tabs {\r\n  position: sticky;\r\n  top: 0;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5852f3ed&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5852f3ed&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5852f3ed\",\n  null\n  \n)\n\nexport default component.exports","import { cancelOrder, payOrder, receiptOrder } from '@/api/order'\r\nexport default {\r\n  methods: {\r\n    orderConfirm (item) {\r\n      let msg = ''\r\n      // 需要判断是 立刻付款、取消订单、确认收货\r\n      if (item.state_text === '待发货') {\r\n        // 取消订单\r\n        msg = '您确定要取消该订单吗？'\r\n      } else if (item.state_text === '待收货') {\r\n        // 确认收货\r\n        msg = '您确定要确认收货吗？'\r\n      } else if (item.state_text === '待支付') {\r\n        // 立刻付款\r\n        msg = '您确定要支付订单吗？'\r\n      }\r\n      this.$dialog.confirm({\r\n        title: '温馨提示',\r\n        message: msg,\r\n        confirmButtonText: '确定',\r\n        confirmButtonColor: '#007aff',\r\n        cancelButtonText: '取消'\r\n      }).then(async () => {\r\n        // 点击确定 发起请求\r\n        if (item.state_text === '待发货') {\r\n          // 取消订单\r\n          const res = await cancelOrder(item.order_id)\r\n          console.log(res)\r\n        } else if (item.state_text === '待收货') {\r\n          // 确认收货\r\n          const res = await receiptOrder(item.order_id, this.payType)\r\n          console.log(res)\r\n        } else if (item.state_text === '待支付') {\r\n          // 立刻付款\r\n          const res = await payOrder(item.order_id)\r\n          console.log(res)\r\n        }\r\n\r\n        // 刷新页面\r\n        location.reload()\r\n      }).catch(() => {\r\n      // 点击取消 不做任何处理\r\n      })\r\n    }\r\n  }\r\n}\r\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","go","onClick","model","value","activeName","callback","$$v","expression","orderList","length","_l","item","index","key","push","order_id","_m","require","_v","staticRenderFns","_s","create_time","state_text","$emit","goods","good","goods_image","goods_name","goods_price","total_num","total_price","order_status","pay_status","delivery_status","_e","name","mixins","orderConfirm","props","type","Object","default","methods","component","components","OrderListItem","data","page","$route","query","dataType","created","todoCountsOrder","list","getOrderList","forEach","msg","$dialog","confirm","title","message","confirmButtonText","confirmButtonColor","cancelButtonText","then","async","res","cancelOrder","console","log","receiptOrder","payType","payOrder","location","reload","catch"],"sourceRoot":""}